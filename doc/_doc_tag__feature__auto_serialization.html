<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZFFramework: Serialization without extra code</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ZFFramework
   </div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_doc_tag__feature__auto_serialization.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Serialization without extra code</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>unlike other serialization framework, when you want to serialize your own subclass in ZFFramework, typically there's no need to write any other serialization code, all property can be serialized if it's type is serializable, even for your custom type <br  />
example: </p><div class="fragment"><div class="line"><a class="code hl_define" href="_z_f_core_type_def___class_type_8h.html#a98c40752ccad216f5cbe584af272d71e">zfclassNotPOD</a> MyCppType {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_typedef" href="_z_f_core_type_def___core_type_8h.html#a6c1076dae87f1c55e419ab82aaa9d930">zfint</a> myValue;</div>
<div class="line">};</div>
<div class="line"><a class="code hl_define" href="_z_f_type_id_declare_8h.html#a245c14fb891739fe4d52a515c58f35cb">ZFTYPEID_DECLARE</a>(<a class="code hl_define" href="_z_f_core_env_def_8h.html#a1cefec61951269dd46fa10c11c2f31fa">ZFLIB_APP</a>, MyCppType, MyCppType)</div>
<div class="line"><a class="code hl_define" href="_z_f_object_class_type_fwd_8h.html#a617acde40c0c21482b187ab27b325c24">zfclass</a> MyClass : <a class="code hl_define" href="_z_f_core_type_def___class_type_8h.html#a1afc6d66657baf4dd52c571294fc949e">zfextend</a> <a class="code hl_class" href="class_z_f_style.html">ZFStyle</a> {</div>
<div class="line">    <a class="code hl_define" href="_z_f_object_declare_8h.html#ac84b3d957e98d5c5347de14f3b25221e">ZFOBJECT_DECLARE</a>(MyClass, <a class="code hl_class" href="class_z_f_style.html">ZFStyle</a>)</div>
<div class="line">    <a class="code hl_define" href="_z_f_property_declare_8h.html#a9cbb08417e1c152700ee085b00fb9aaf">ZFPROPERTY_ASSIGN</a>(<a class="code hl_typedef" href="_z_f_core_type_def___string_type_8h.html#a7fe5c17baced006251bac354c4ded743">zfstring</a>, myProp0)</div>
<div class="line">    <a class="code hl_define" href="_z_f_property_declare_8h.html#a9cbb08417e1c152700ee085b00fb9aaf">ZFPROPERTY_ASSIGN</a>(MyCppType, myProp1)</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="_z_f_type_id_declare_8h.html#a51d59bb3c4a30901f1966e0e2ecc5463">ZFTYPEID_DEFINE_BY_STRING_CONVERTER</a>(MyCppType, MyCppType, {</div>
<div class="line">        <span class="comment">// supply MyCppType&#39;s string conversion</span></div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="_z_f_type_id___core_type_8h.html#ae753f89acfd8c79568b427893f37590f">zfintFromStringT</a>(v.myValue, src, srcLen);</div>
<div class="line">    }, {</div>
<div class="line">        <span class="comment">// supply MyCppType&#39;s string conversion</span></div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="_z_f_type_id___core_type_8h.html#aca3a958913ad27ace66381d495c03f5a">zfintToStringT</a>(s, v.myValue);</div>
<div class="line">    })</div>
<div class="ttc" id="a_z_f_core_env_def_8h_html_a1cefec61951269dd46fa10c11c2f31fa"><div class="ttname"><a href="_z_f_core_env_def_8h.html#a1cefec61951269dd46fa10c11c2f31fa">ZFLIB_APP</a></div><div class="ttdeci">#define ZFLIB_APP</div><div class="ttdoc">used to export symbols</div><div class="ttdef"><b>Definition</b> ZFCoreEnvDef.h:35</div></div>
<div class="ttc" id="a_z_f_core_type_def___class_type_8h_html_a1afc6d66657baf4dd52c571294fc949e"><div class="ttname"><a href="_z_f_core_type_def___class_type_8h.html#a1afc6d66657baf4dd52c571294fc949e">zfextend</a></div><div class="ttdeci">#define zfextend</div><div class="ttdoc">dummy macro shows class inherit from another</div><div class="ttdef"><b>Definition</b> ZFCoreTypeDef_ClassType.h:53</div></div>
<div class="ttc" id="a_z_f_core_type_def___class_type_8h_html_a98c40752ccad216f5cbe584af272d71e"><div class="ttname"><a href="_z_f_core_type_def___class_type_8h.html#a98c40752ccad216f5cbe584af272d71e">zfclassNotPOD</a></div><div class="ttdeci">#define zfclassNotPOD</div><div class="ttdoc">shows the class is not a POD type, you should not memset it or declare it in stack or copy value by c...</div><div class="ttdef"><b>Definition</b> ZFCoreTypeDef_ClassType.h:48</div></div>
<div class="ttc" id="a_z_f_core_type_def___core_type_8h_html_a6c1076dae87f1c55e419ab82aaa9d930"><div class="ttname"><a href="_z_f_core_type_def___core_type_8h.html#a6c1076dae87f1c55e419ab82aaa9d930">zfint</a></div><div class="ttdeci">_ZFT_t_zfint zfint</div><div class="ttdoc">same as int, see zfindex</div><div class="ttdef"><b>Definition</b> ZFCoreTypeDef_CoreType.h:165</div></div>
<div class="ttc" id="a_z_f_core_type_def___string_type_8h_html_a7fe5c17baced006251bac354c4ded743"><div class="ttname"><a href="_z_f_core_type_def___string_type_8h.html#a7fe5c17baced006251bac354c4ded743">zfstring</a></div><div class="ttdeci">zft_zfstring&lt; zfchar &gt; zfstring</div><div class="ttdoc">see zft_zfstring</div><div class="ttdef"><b>Definition</b> ZFCoreTypeDef_StringType.h:15</div></div>
<div class="ttc" id="a_z_f_object_class_type_fwd_8h_html_a617acde40c0c21482b187ab27b325c24"><div class="ttname"><a href="_z_f_object_class_type_fwd_8h.html#a617acde40c0c21482b187ab27b325c24">zfclass</a></div><div class="ttdeci">#define zfclass</div><div class="ttdoc">same as class, shows that this class is a ZFObject type</div><div class="ttdef"><b>Definition</b> ZFObjectClassTypeFwd.h:38</div></div>
<div class="ttc" id="a_z_f_object_declare_8h_html_ac84b3d957e98d5c5347de14f3b25221e"><div class="ttname"><a href="_z_f_object_declare_8h.html#ac84b3d957e98d5c5347de14f3b25221e">ZFOBJECT_DECLARE</a></div><div class="ttdeci">#define ZFOBJECT_DECLARE(ChildClass, SuperClass,...)</div><div class="ttdoc">necessary for every class inherit from ZFObject</div><div class="ttdef"><b>Definition</b> ZFObjectDeclare.h:126</div></div>
<div class="ttc" id="a_z_f_property_declare_8h_html_a9cbb08417e1c152700ee085b00fb9aaf"><div class="ttname"><a href="_z_f_property_declare_8h.html#a9cbb08417e1c152700ee085b00fb9aaf">ZFPROPERTY_ASSIGN</a></div><div class="ttdeci">#define ZFPROPERTY_ASSIGN(Type, Name,...)</div><div class="ttdoc">see ZFPROPERTY_RETAIN</div><div class="ttdef"><b>Definition</b> ZFPropertyDeclare.h:128</div></div>
<div class="ttc" id="a_z_f_type_id___core_type_8h_html_aca3a958913ad27ace66381d495c03f5a"><div class="ttname"><a href="_z_f_type_id___core_type_8h.html#aca3a958913ad27ace66381d495c03f5a">zfintToStringT</a></div><div class="ttdeci">zfbool zfintToStringT(zfstring &amp;s, _ZFP_PropTypeW_zfint const &amp;v, zfstring *errorHint=zft_zfnull)</div><div class="ttdoc">util method to convert zfint to string</div></div>
<div class="ttc" id="a_z_f_type_id___core_type_8h_html_ae753f89acfd8c79568b427893f37590f"><div class="ttname"><a href="_z_f_type_id___core_type_8h.html#ae753f89acfd8c79568b427893f37590f">zfintFromStringT</a></div><div class="ttdeci">zfbool zfintFromStringT(_ZFP_PropTypeW_zfint &amp;v, const zfchar *src, zfindex srcLen=((zfindex) -1), zfstring *errorHint=zft_zfnull)</div><div class="ttdoc">util method to convert zfint from string</div></div>
<div class="ttc" id="a_z_f_type_id_declare_8h_html_a245c14fb891739fe4d52a515c58f35cb"><div class="ttname"><a href="_z_f_type_id_declare_8h.html#a245c14fb891739fe4d52a515c58f35cb">ZFTYPEID_DECLARE</a></div><div class="ttdeci">#define ZFTYPEID_DECLARE(ZFLIB_, TypeName, Type)</div><div class="ttdoc">register a type for reflection</div><div class="ttdef"><b>Definition</b> ZFTypeIdDeclare.h:137</div></div>
<div class="ttc" id="a_z_f_type_id_declare_8h_html_a51d59bb3c4a30901f1966e0e2ecc5463"><div class="ttname"><a href="_z_f_type_id_declare_8h.html#a51d59bb3c4a30901f1966e0e2ecc5463">ZFTYPEID_DEFINE_BY_STRING_CONVERTER</a></div><div class="ttdeci">#define ZFTYPEID_DEFINE_BY_STRING_CONVERTER(TypeName, Type, convertFromStringAction, convertToStringAction)</div><div class="ttdoc">see ZFTYPEID_DECLARE</div><div class="ttdef"><b>Definition</b> ZFTypeIdDeclare.h:166</div></div>
<div class="ttc" id="aclass_z_f_style_html"><div class="ttname"><a href="class_z_f_style.html">ZFStyle</a></div><div class="ttdoc">common styleable object</div><div class="ttdef"><b>Definition</b> ZFStyleable.h:110</div></div>
</div><!-- fragment --><p>that's all, MyClass are serializable now, as you can see, you have no need to write any code to implement MyClass's serialization logic, all you need to do is to ensure all your property's type are serializable<br  />
also, like MyCppType, all plain cpp type can be embeded to ZFFramework's powerful serialization logic </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
