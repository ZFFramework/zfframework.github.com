<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZFFramework: ZFObjectIO.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ZFFramework
   </div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_z_f_object_i_o_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ZFObjectIO.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>high level object IO  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_z_f_i_o_def_8h_source.html">ZFIODef.h</a>&quot;</code><br />
</div>
<p><a href="_z_f_object_i_o_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af5fe4ae1351523af1b0acd0c20a25d43" id="r_af5fe4ae1351523af1b0acd0c20a25d43"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5fe4ae1351523af1b0acd0c20a25d43">ZFOBJECTIO_DEFINE</a>(registerSig,  level,  checkerAction,  fromInputAction,  toOutputAction)</td></tr>
<tr class="memdesc:af5fe4ae1351523af1b0acd0c20a25d43"><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="#a2b74d76e1d15f795e412d4f742196ba7" title="high level object IO">ZFObjectIOLoad</a>  <br /></td></tr>
<tr class="separator:af5fe4ae1351523af1b0acd0c20a25d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4edf8d63fe17442884a16b8cb2b10b31" id="r_a4edf8d63fe17442884a16b8cb2b10b31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4edf8d63fe17442884a16b8cb2b10b31">ZFStyleDecoder_ZFObjectIO</a></td></tr>
<tr class="memdesc:a4edf8d63fe17442884a16b8cb2b10b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="_z_f_styleable_8h.html#a2d7b7502055185da041e645638cb97e7" title="register a custom decoder for ZFStyleSet">ZFSTYLE_DECODER_DEFINE</a>  <br /></td></tr>
<tr class="separator:a4edf8d63fe17442884a16b8cb2b10b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2b74d76e1d15f795e412d4f742196ba7" id="r_a2b74d76e1d15f795e412d4f742196ba7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classzfauto.html">zfauto</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b74d76e1d15f795e412d4f742196ba7">ZFObjectIOLoad</a> (const <a class="el" href="class_z_f_input.html">ZFInput</a> &amp;input, <a class="el" href="_z_f_core_type_def___string_type_8h.html#a7fe5c17baced006251bac354c4ded743">zfstring</a> *outErrorHint=zft_zfnull)</td></tr>
<tr class="memdesc:a2b74d76e1d15f795e412d4f742196ba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">high level object IO  <br /></td></tr>
<tr class="separator:a2b74d76e1d15f795e412d4f742196ba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c58f85a781bf3a71c9cef6dd1e0555" id="r_ab4c58f85a781bf3a71c9cef6dd1e0555"><td class="memItemLeft" align="right" valign="top"><a id="ab4c58f85a781bf3a71c9cef6dd1e0555" name="ab4c58f85a781bf3a71c9cef6dd1e0555"></a>
<a class="el" href="_z_f_core_type_def___core_type_8h.html#a18319824a3b98c37ac216ca6f511a323">zfbool</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ZFObjectIOLoadT</b> (<a class="el" href="classzfauto.html">zfauto</a> &amp;ret, const <a class="el" href="class_z_f_input.html">ZFInput</a> &amp;input, <a class="el" href="_z_f_core_type_def___string_type_8h.html#a7fe5c17baced006251bac354c4ded743">zfstring</a> *outErrorHint=zft_zfnull)</td></tr>
<tr class="memdesc:ab4c58f85a781bf3a71c9cef6dd1e0555"><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="#a2b74d76e1d15f795e412d4f742196ba7" title="high level object IO">ZFObjectIOLoad</a> <br /></td></tr>
<tr class="separator:ab4c58f85a781bf3a71c9cef6dd1e0555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59dfa81d581421eefd08f9f805a2e7d9" id="r_a59dfa81d581421eefd08f9f805a2e7d9"><td class="memItemLeft" align="right" valign="top"><a id="a59dfa81d581421eefd08f9f805a2e7d9" name="a59dfa81d581421eefd08f9f805a2e7d9"></a>
<a class="el" href="_z_f_core_type_def___core_type_8h.html#a18319824a3b98c37ac216ca6f511a323">zfbool</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ZFObjectIOSave</b> (const <a class="el" href="class_z_f_output.html">ZFOutput</a> &amp;output, <a class="el" href="class_z_f_object.html">ZFObject</a> *obj, <a class="el" href="_z_f_core_type_def___string_type_8h.html#a7fe5c17baced006251bac354c4ded743">zfstring</a> *outErrorHint=zft_zfnull)</td></tr>
<tr class="memdesc:a59dfa81d581421eefd08f9f805a2e7d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">see <a class="el" href="#a2b74d76e1d15f795e412d4f742196ba7" title="high level object IO">ZFObjectIOLoad</a> <br /></td></tr>
<tr class="separator:a59dfa81d581421eefd08f9f805a2e7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>high level object IO </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af5fe4ae1351523af1b0acd0c20a25d43" name="af5fe4ae1351523af1b0acd0c20a25d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5fe4ae1351523af1b0acd0c20a25d43">&#9670;&#160;</a></span>ZFOBJECTIO_DEFINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZFOBJECTIO_DEFINE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>registerSig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>checkerAction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fromInputAction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>toOutputAction</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>see <a class="el" href="#a2b74d76e1d15f795e412d4f742196ba7" title="high level object IO">ZFObjectIOLoad</a> </p>
<p>usage: </p><div class="fragment"><div class="line"><a class="code hl_define" href="#af5fe4ae1351523af1b0acd0c20a25d43">ZFOBJECTIO_DEFINE</a>(registerSig, <a class="code hl_enumvalue" href="_z_f_level_8h.html#a5b282a83c44da6aec9cd39ab74357232adb5b27e49081f3afebd53b9f2a0e0bb8">ZFLevelZFFrameworkPostNormal</a>, {</div>
<div class="line">        <span class="comment">// callback to check whether the pathInfo can be used as object IO</span></div>
<div class="line">        <span class="comment">// proto type:</span></div>
<div class="line">        <span class="comment">//   zfbool checker(</span></div>
<div class="line">        <span class="comment">//           ZF_IN zfbool isOutput</span></div>
<div class="line">        <span class="comment">//           , ZF_IN const ZFPathInfo &amp;pathInfo</span></div>
<div class="line">        <span class="comment">//           , ZF_IN const zfstring &amp;fileName</span></div>
<div class="line">        <span class="comment">//           , ZF_IN const zfstring &amp;fileExt</span></div>
<div class="line">        <span class="comment">//           );</span></div>
<div class="line">        <span class="comment">// pathInfo: ZFCallback::pathInfo</span></div>
<div class="line">    }, {</div>
<div class="line">        <span class="comment">// callback to load object from input</span></div>
<div class="line">        <span class="comment">// proto type:</span></div>
<div class="line">        <span class="comment">//   zfbool fromInput(</span></div>
<div class="line">        <span class="comment">//           ZF_OUT zfauto &amp;ret</span></div>
<div class="line">        <span class="comment">//           , ZF_IN_OUT const ZFInput &amp;input</span></div>
<div class="line">        <span class="comment">//           , ZF_OUT_OPT zfstring *outErrorHint = zfnull</span></div>
<div class="line">        <span class="comment">//           );</span></div>
<div class="line">    }, {</div>
<div class="line">        <span class="comment">// callback to save object to output</span></div>
<div class="line">        <span class="comment">// proto type:</span></div>
<div class="line">        <span class="comment">//   zfbool toOutput(</span></div>
<div class="line">        <span class="comment">//           ZF_IN_OUT const ZFOutput &amp;output</span></div>
<div class="line">        <span class="comment">//           , ZF_IN zfany const &amp;obj</span></div>
<div class="line">        <span class="comment">//           , ZF_OUT_OPT zfstring *outErrorHint = zfnull</span></div>
<div class="line">        <span class="comment">//           );</span></div>
<div class="line">    })</div>
<div class="ttc" id="a_z_f_level_8h_html_a5b282a83c44da6aec9cd39ab74357232adb5b27e49081f3afebd53b9f2a0e0bb8"><div class="ttname"><a href="_z_f_level_8h.html#a5b282a83c44da6aec9cd39ab74357232adb5b27e49081f3afebd53b9f2a0e0bb8">ZFLevelZFFrameworkPostNormal</a></div><div class="ttdeci">@ ZFLevelZFFrameworkPostNormal</div><div class="ttdoc">ZFFramework post normal.</div><div class="ttdef"><b>Definition</b> ZFLevel.h:30</div></div>
<div class="ttc" id="a_z_f_object_i_o_8h_html_af5fe4ae1351523af1b0acd0c20a25d43"><div class="ttname"><a href="#af5fe4ae1351523af1b0acd0c20a25d43">ZFOBJECTIO_DEFINE</a></div><div class="ttdeci">#define ZFOBJECTIO_DEFINE(registerSig, level, checkerAction, fromInputAction, toOutputAction)</div><div class="ttdoc">see ZFObjectIOLoad</div><div class="ttdef"><b>Definition</b> ZFObjectIO.h:94</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a4edf8d63fe17442884a16b8cb2b10b31" name="a4edf8d63fe17442884a16b8cb2b10b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4edf8d63fe17442884a16b8cb2b10b31">&#9670;&#160;</a></span>ZFStyleDecoder_ZFObjectIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZFStyleDecoder_ZFObjectIO</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>see <a class="el" href="_z_f_styleable_8h.html#a2d7b7502055185da041e645638cb97e7" title="register a custom decoder for ZFStyleSet">ZFSTYLE_DECODER_DEFINE</a> </p>
<p>styleKey should start with '@' and holds a <a class="el" href="class_z_f_path_info.html" title="path related info storage for impl, actual meaning of the info depends on impl">ZFPathInfo</a>, the result style object would be created by <a class="el" href="_z_f_i_o_def__path_info_8h.html#acf6e93e3b957848ad1119103b459f492" title="util to create a file input callback">ZFInputForPathInfo</a> and <a class="el" href="#a2b74d76e1d15f795e412d4f742196ba7" title="high level object IO">ZFObjectIOLoad</a> </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2b74d76e1d15f795e412d4f742196ba7" name="a2b74d76e1d15f795e412d4f742196ba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b74d76e1d15f795e412d4f742196ba7">&#9670;&#160;</a></span>ZFObjectIOLoad()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classzfauto.html">zfauto</a> ZFObjectIOLoad </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_z_f_input.html">ZFInput</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>input</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_z_f_core_type_def___string_type_8h.html#a7fe5c17baced006251bac354c4ded743">zfstring</a> *</td>          <td class="paramname"><span class="paramname"><em>outErrorHint</em></span><span class="paramdefsep"> = </span><span class="paramdefval">zft_zfnull</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>high level object IO </p>
<p>most object of ZFFramework are seraizliable, and can be stored as different type (such as xml or json), to make app level code more convenient, we introduced this method to load/save serializable object without knowing underlying storage type<br  />
<br  />
typical usage: </p><div class="fragment"><div class="line"><span class="comment">// serialize object from xml file</span></div>
<div class="line"><a class="code hl_class" href="classzfauto.html">zfauto</a> obj = <a class="code hl_function" href="#a2b74d76e1d15f795e412d4f742196ba7">ZFObjectIOLoad</a>(<a class="code hl_function" href="_z_f_i_o__res_8h.html#aeb8864eff3aedec8ba32de1c219eb992">ZFInputForRes</a>(<span class="stringliteral">&quot;data.xml&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// load image</span></div>
<div class="line"><a class="code hl_class" href="classzfauto.html">zfauto</a> img = <a class="code hl_function" href="#a2b74d76e1d15f795e412d4f742196ba7">ZFObjectIOLoad</a>(<a class="code hl_function" href="_z_f_i_o__res_8h.html#aeb8864eff3aedec8ba32de1c219eb992">ZFInputForRes</a>(<span class="stringliteral">&quot;image.png&quot;</span>));</div>
<div class="ttc" id="a_z_f_i_o__res_8h_html_aeb8864eff3aedec8ba32de1c219eb992"><div class="ttname"><a href="_z_f_i_o__res_8h.html#aeb8864eff3aedec8ba32de1c219eb992">ZFInputForRes</a></div><div class="ttdeci">ZFInput ZFInputForRes(const zfstring &amp;resFilePath)</div><div class="ttdoc">util to create a resource file input callback, see ZFResOpen for what resource file is</div><div class="ttdef"><b>Definition</b> ZFIO_res.h:33</div></div>
<div class="ttc" id="a_z_f_object_i_o_8h_html_a2b74d76e1d15f795e412d4f742196ba7"><div class="ttname"><a href="#a2b74d76e1d15f795e412d4f742196ba7">ZFObjectIOLoad</a></div><div class="ttdeci">zfauto ZFObjectIOLoad(const ZFInput &amp;input, zfstring *outErrorHint=zft_zfnull)</div><div class="ttdoc">high level object IO</div></div>
<div class="ttc" id="aclasszfauto_html"><div class="ttname"><a href="classzfauto.html">zfauto</a></div><div class="ttdoc">a ZFObject holder which would release content object automatically when destroyed</div><div class="ttdef"><b>Definition</b> zfautoFwd.h:34</div></div>
</div><!-- fragment --><p> <br  />
how it works:</p><ul>
<li>get <a class="el" href="class_z_f_callback.html#a4588881e93c64c434b3f085b17b615c7" title="used for impl to store path related info, see ZFPathInfo">ZFCallback::pathInfo</a> from input/output</li>
<li>call all impl checker method to check whether it matches impl's type, until we find an impl can resolve it (for most case, this is done by checking the file ext from pathInfo's pathData)</li>
<li>call impl callback to serialize from input or to output</li>
</ul>
<p><br  />
to add your own type, please refer to <a class="el" href="#af5fe4ae1351523af1b0acd0c20a25d43" title="see ZFObjectIOLoad">ZFOBJECTIO_DEFINE</a> </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c80360d3694a8cbfb6668b9233fa1819.html">ZF</a></li><li class="navelem"><a class="el" href="dir_32bbb16ff69d159e0c9f44783cffe6dc.html">ZFCore</a></li><li class="navelem"><a class="el" href="dir_59d3afad9986a4f2e6456e23d45b8fa7.html">zfsrc</a></li><li class="navelem"><a class="el" href="dir_8bf5a5f80265df038b2b6c31ef0f37c5.html">ZFCore</a></li><li class="navelem"><a class="el" href="_z_f_object_i_o_8h.html">ZFObjectIO.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
